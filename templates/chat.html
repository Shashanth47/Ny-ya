<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Nyāya (ನ್ಯಾಯ) • Legal AI</title><style>:root{--bg:#0b0f0f;--panel:#111616;--muted:#9bb3a9;--text:#e8f5ef;--brand:#00ff88;--stroke:#16382b;}*{box-sizing:border-box}body{margin:0;background:radial-gradient(1000px 500px at 80% 0,#001a12 0%,#0b0f0f 55%),#0b0f0f;color:var(--text);font:14px/1.6 system-ui,-apple-system,"Segoe UI",Inter,Roboto}.header{display:flex;align-items:center;gap:12px;padding:18px 24px;border-bottom:1px solid var(--stroke);background:linear-gradient(180deg,#0e1413,transparent)}.logo{width:32px;height:32px;border-radius:8px;background:linear-gradient(135deg,var(--brand),#0cf);filter:saturate(.3) brightness(.8);box-shadow:0 0 40px rgba(0,255,136,.15)}.brand{font-weight:700;letter-spacing:.3px}.brand small{display:block;color:var(--muted);font-weight:500}.container{display:grid;grid-template-rows:1fr auto;max-width:1000px;margin:0 auto;min-height:calc(100vh - 70px);padding:20px}.chat{background:var(--panel);border:1px solid var(--stroke);border-radius:16px;padding:18px;overflow:auto;scrollbar-width:thin}.msg{padding:12px 14px;border-radius:12px;margin:10px 0;position:relative}.msg.user{background:#0e1b16;border:1px solid #174235}.msg.ai{background:#0b1311;border:1px solid #153a2c;box-shadow:0 0 24px rgba(0,255,136,.08)}.msg .role{font-size:12px;color:var(--muted);margin-bottom:4px}.msg .content{white-space:pre-wrap}.msg.ai::after{content:"";position:absolute;inset:auto auto -2px 0;height:2px;width:60px;background:linear-gradient(90deg,transparent,var(--brand),transparent);opacity:.5}.suggestions{display:flex;flex-wrap:wrap;gap:8px;margin:8px 0 4px}.chip{border:1px solid var(--stroke);color:var(--muted);padding:8px 10px;border-radius:999px;cursor:pointer;background:#0f1715}.chip:hover{border-color:#1f5a44;color:#cfe7dc}.inputbar{display:flex;gap:10px;margin-top:14px;background:#0d1413;border:1px solid var(--stroke);border-radius:14px;padding:10px}.inputbar input{flex:1;background:transparent;border:0;outline:none;color:var(--text);font-size:14px}.btn{background:var(--brand);color:#05100b;border:0;border-radius:12px;padding:10px 16px;font-weight:700;cursor:pointer}.btn:disabled{opacity:.6;cursor:not-allowed}.spinner{width:16px;height:16px;border:2px solid #144433;border-top-color:var(--brand);border-radius:50%;animation:spin .8s linear infinite;display:none;margin-left:6px}.loading .spinner{display:inline-block}.footer{color:var(--muted);font-size:12px;padding:8px 16px}@keyframes spin{to{transform:rotate(360deg)}}.code{background:#0a1311;border:1px solid #153a2c;border-radius:8px;padding:10px;font-family:ui-monospace,SFMono-Regular,Consolas,Monaco}.cite{margin-top:8px;color:var(--muted);font-size:12px}</style></head><body><header class="header"><div class="logo"></div><div class="brand">Nyāya (ನ್ಯಾಯ)<small>Black & Green • Legal AI assistant</small></div></header><main class="container"><section id="chat" class="chat"><div class="msg ai"><div class="role">Nyāya</div><div class="content">Namaskāra! Ask a Karnataka laws question — I’ll answer with context from the corpus.</div></div><div class="suggestions"><button class="chip" onclick="quick('Summarize the Karnataka Government (Allocation of Business) Rules, 1977.')">Allocation of Business — summary</button><button class="chip" onclick="quick('What are probation rules responsibilities?')">Probation duties</button><button class="chip" onclick="quick('What do KSAT Procedure Rules, 1986 cover?')">KSAT procedure</button></div></section><form class="inputbar" onsubmit="event.preventDefault(); askBot();"><input id="query" type="text" placeholder="Type your question here..." autocomplete="off"><button id="sendBtn" class="btn" type="submit">Ask</button><div id="spin" class="spinner"></div></form><div class="footer">Tip: Press Enter to send • Shift+Enter for newline</div></main><script>const chat=document.getElementById('chat');const input=document.getElementById('query');const btn=document.getElementById('sendBtn');const spin=document.getElementById('spin');function render(role,text,meta={}){const el=document.createElement('div');el.className='msg '+(role==='user'?'user':'ai');let html='<div class="role">'+(role==='user'?'You':'Nyāya')+'</div><div class="content">'+escapeHtml(text)+'</div>';if(role==='ai'&&meta.citations&&meta.citations.length){html+='<div class="cite">Sources: '+meta.citations.map(c=>escapeHtml(c)).join(', ')+'</div>'}el.innerHTML=html;chat.appendChild(el);chat.scrollTop=chat.scrollHeight}function escapeHtml(s){return s.replace(/[&<>]/g,c=>({'&':'&amp;','<':'&lt;','>':'&gt;'}[c]))}async function askBot(){const q=input.value.trim();if(!q)return;render('user',q);btn.disabled=true;spin.parentElement.classList.add('loading');try{const res=await fetch('/ask',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({query:q})});const data=await res.json();if(res.ok&&data.response){render('ai',data.response,{citations:data.citations||[]})}else{render('ai','Error: '+(data.error||'Request failed'))}}catch(e){render('ai','Network error: '+e.message)}finally{btn.disabled=false;spin.parentElement.classList.remove('loading');input.value='';input.focus()}}function quick(text){input.value=text;askBot()}input.addEventListener('keydown',e=>{if(e.key==='Enter'&&!e.shiftKey){e.preventDefault();askBot()}})</script></body></html>
